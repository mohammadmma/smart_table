# --------------------------
# Mosquitto Basic Configuration
# --------------------------

# Enable persistence (messages survive broker restart)
persistence true
persistence_location /mosquitto/data/

# Logging
log_dest file /mosquitto/log/mosquitto.log
log_type error
log_type warning
log_type notice
log_type information

# Default listener (MQTT)
listener 1883
allow_anonymous true

# Optional: MQTT over WebSockets
listener 9001
protocol websockets
allow_anonymous true

# Access control (optional)
# By default, all topics are allowed for anonymous clients in dev mode
# In production, consider using usernames, passwords, and ACLs

# QoS default settings
message_size_limit 10240   # max message size ~10KB (JSON fits easily)
